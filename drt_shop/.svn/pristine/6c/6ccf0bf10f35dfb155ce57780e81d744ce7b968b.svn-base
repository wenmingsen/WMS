<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.csg.intshop.mapper.DrtShopAddressMapper">
	<resultMap id="BaseResultMap" type="com.csg.intshop.entity.DrtShopAddress">
		<id column="id" property="id"></id>
		<result column="address_level1" property="addressLevel1" />
		<result column="address_level2" property="addressLevel2" />
		<result column="address_level3" property="addressLevel3" />
		<result column="address_other" property="addressOther" />
		<result column="account_id" property="accountId" />
		<result column="is_default" property="isDefault" />
		<result column="creator_id" property="creatorId" />
		<result column="creator_name" property="creatorName" />
		<result column="create_time" property="createTime" />
		<result column="modify_id" property="modifyId" />
		<result column="modify_name" property="modifyName" />
		<result column="modify_time" property="modifyTime" />
		<result column="remark" property="remark" />
		<result column="phone" property="phone" />
		<result column="name" property="name" />
		<result column="postcode" property="postcode" />
		<result column="address_level1_id" property="addressLevel1Id" />
		<result column="address_level2_id" property="addressLevel2Id" />
		<result column="address_level3_id" property="addressLevel3Id" />
	</resultMap>
	
	<sql id="BaseColumnList">
		id as id,
		address_level1 as addressLevel1,
		address_level2 as addressLevel2,
		address_level3 as addressLevel3,
		address_other as addressOther,
		account_id as accountId,
		is_default as isDefault,
		creator_id as creatorId,
		creator_name as creatorName,
		create_time as createTime,
		modify_id as modifyId,
		modify_name as modifyName,
		modify_time as modifyTime,
		remark as remark,
		phone as phone,
		name as name,
		postcode as postcode,
		address_level1_id as addressLevel1Id,
		address_level2_id as addressLevel2Id,
		address_level3_id as addressLevel3Id
	</sql>

	<sql id="BaseCustomQueryCondition">
		<if test="id != null">
			and id=#{id}
		</if>
		<if test="addressLevel1 != null">
			and address_level1=#{addressLevel1}
		</if>
		<if test="addressLevel2 != null">
			and address_level2=#{addressLevel2}
		</if>
		<if test="addressLevel3 != null">
			and address_level3=#{addressLevel3}
		</if>
		<if test="addressOther != null">
			and address_other=#{addressOther}
		</if>
		<if test="accountId != null">
			and account_id=#{accountId}
		</if>
		<if test="isDefault != null">
			and is_default=#{isDefault}
		</if>
		<if test="creatorId != null">
			and creator_id=#{creatorId}
		</if>
		<if test="creatorName != null">
			and creator_name=#{creatorName}
		</if>
		<if test="createTime != null">
			and create_time=#{createTime}
		</if>
		<if test="modifyId != null">
			and modify_id=#{modifyId}
		</if>
		<if test="modifyName != null">
			and modify_name=#{modifyName}
		</if>
		<if test="modifyTime != null">
			and modify_time=#{modifyTime}
		</if>
		<if test="remark != null">
			and remark=#{remark}
		</if>
		<if test="phone != null">
			and phone=#{phone}
		</if>
		<if test="name != null">
			and name=#{name}
		</if>
		<if test="postcode != null">
			and postcode=#{postcode}
		</if>
	</sql>

	<insert id="insert" parameterType="com.csg.intshop.entity.DrtShopAddress" >
    	insert into drt_shop_address
    		(id, address_level1, address_level2, address_level3, address_other, account_id, is_default, creator_id, creator_name, create_time, modify_id, modify_name, modify_time, remark, phone, name, postcode,address_level1_id,address_level2_id,address_level3_id) 
    	values
    		(#{id}, #{addressLevel1}, #{addressLevel2}, #{addressLevel3}, #{addressOther}, #{accountId}, 0, #{creatorId}, #{creatorName}, #{createTime}, #{modifyId}, #{modifyName}, #{modifyTime}, #{remark}, #{phone}, #{name}, #{postcode},#{addressLevel1Id},#{addressLevel2Id},#{addressLevel3Id})
  	</insert>

  	<update id="update" parameterType="com.csg.intshop.entity.DrtShopAddress">
		update drt_shop_address 
		<set>
			<if test = "addressLevel1Id !=null and addressLevel1Id !=''">
				address_level1_id = #{addressLevel1Id},
			</if>
			<if test = "addressLevel2Id !=null and addressLevel2Id !=''">
				address_level2_id = #{addressLevel2Id},
			</if>
			<if test = "addressLevel2Id !=null and addressLevel2Id !=''">
				address_level3_id = #{addressLevel3Id},
			</if>
			<if test="addressLevel1 != null and  addressLevel1 !=''">
				address_level1=#{addressLevel1},
			</if>
			<if test="addressLevel2 != null and addressLevel2 != ''">
				 address_level2=#{addressLevel2},
			</if>
			<if test="addressLevel3 != null">
				 address_level3=#{addressLevel3},
			</if>
			<if test="addressOther != null and addressOther !=''">
				 address_other=#{addressOther},
			</if>
			<if test="accountId != null and  accountId !=''">
				 account_id=#{accountId},
			</if>
			<if test="isDefault != null and isDefault !=''">
				 is_default=#{isDefault},
			</if>
			<if test="creatorId != null and  creatorId !=''">
				 creator_id=#{creatorId},
			</if>
			<if test="creatorName != null">
				 creator_name=#{creatorName},
			</if>
			<if test="createTime != null ">
				 create_time=#{createTime},
			</if>
			<if test="modifyId != null and modifyId !=''">
				 modify_id=#{modifyId},
			</if>
			<if test="modifyName != null and modifyName !=''">
				 modify_name=#{modifyName},
			</if>
			<if test="modifyTime != null and  modifyTime!=''">
				 modify_time=#{modifyTime},
			</if>
			<if test="remark != null and  remark !=''">
				 remark=#{remark},
			</if>
			<if test="phone != null and phone !=''">
				 phone=#{phone},
			</if>
			<if test="name != null and name !=''">
				 name=#{name},
			</if>
			<if test="postcode != null and  postcode !=''">
				 postcode=#{postcode}
			</if>
		</set>
		where 1='1'
		<if test="accountId != null and  accountId !=''">
			and	 account_id=#{accountId}
		</if>
		<if test="id != null and  id !=''">
			and	 id=#{id}
		</if>
	</update>

	<select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
	    select 
	    <include refid="BaseColumnList" />
	    from drt_shop_address
	    where 
			id = #{id}
  	</select>

  	<select id="selectList" resultMap="BaseResultMap" parameterType="com.csg.intshop.entity.DrtShopAddress">
	    select 
	    <include refid="BaseColumnList" />
	    from drt_shop_address
	    where 1=1 
	    <if test = "isDefault != null ">
			and is_default=#{isDefault}
		</if>
	    <if test="accountId != null and  accountId !=''">
			and	 account_id=#{accountId}
		</if>
		
  	</select>

	<delete id = "deleteAddress" parameterType = "com.csg.intshop.entity.DrtShopAddress">
		delete from drt_shop_address where id = #{id}
	</delete>

	
</mapper>
#redis配置信息
spring.redis.host=${spring_redis_host}
spring.redis.port=${spring_redis_port}
spring.redis.password=${spring_redis_password}
spring.redis.pool.max-idle=8
spring.redis.pool.min-idle=0
spring.redis.pool.max-active=8
spring.redis.pool.max-wait=-1

#数据源连接信息
spring.datasource.url=${spring_datasource_url}
spring.datasource.username=${spring_datasource_username}
spring.datasource.password=${spring_datasource_password}
spring.datasource.driverClassName=com.mysql.jdbc.Driver
#连接池的配置信息  
spring.datasource.initialSize=5
spring.datasource.minIdle=5
spring.dataSource.maxIdle=20
spring.datasource.maxActive=20
spring.datasource.maxWait=60000
spring.datasource.timeBetweenEvictionRunsMillis=60000
spring.datasource.minEvictableIdleTimeMillis=300000
spring.datasource.validationQuery=SELECT 1 FROM DUAL
spring.datasource.testWhileIdle=true
spring.datasource.testOnBorrow=false
spring.datasource.testOnReturn=false
spring.datasource.poolPreparedStatements=true  
spring.datasource.maxPoolPreparedStatementPerConnectionSize=20
spring.datasource.filters=stat,wall,log4j
spring.datasource.connectionProperties=druid.stat.mergeSql=true;druid.stat.slowSqlMillis=5000

#jpa
spring.jpa.show-sql=true

#mybatis
mybatis.type-aliases-package=com.csg.statistics.entity

spring.session.store-type=none
# SPRING SOCIAL (SocialWebAutoConfiguration)  
spring.social.auto-connection-views=false
mybatis.configuration.map-underscore-to-camel-case=true

#注册中心配置信息

spring.application.name=drtStatistics-statistics
eureka.client.serviceUrl.defaultZone=${eureka_client_serviceUrl_defaultZone}
server.port=8080
eureka.instance.prefer-ip-address=true
eureka.instance.instance-id=${spring.cloud.client.ipAddress}:${server.port}

finance.api.id=drtFinance-finance
finance.ctx=/drt

elec.api.id=drtElec-elec
elec.ctx=/drt

shop.api.id=drtShop-shop
shop.ctx=/drtShop

hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds=30000
#在调用方配置，被该调用方的指定方法（HystrixCommandKey方法名）的超时时间是该值
hystrix.command.HystrixCommandKey.execution.isolation.thread.timeoutInMilliseconds=30000


ribbon.ReadTimeout=30000
ribbon.ConnectTimeout=30000

#线程池核心线程数
hystrix.threadpool.default.coreSize=10

#调用线程允许请求HystrixCommand.GetFallback()的最大数量，默认10。超出时将会有异常抛出，注意：该项配置对于THREAD隔离模式也起作用
hystrix.command.default.fallback.isolation.semaphore.maxConcurrentRequests=20

##队列最大排队数
hystrix.threadpool.default.maxQueueSize=120

#（排队线程数量阈值，默认为5，达到时拒绝，如果配置了该选项，队列的大小是该队列）
# 注意：如果maxQueueSize=-1的话，则该选项不起作用
hystrix.threadpool.default.queueSizeRejectionThreshold=120

#当在配置时间窗口内达到此数量的失败后，进行短路。默认20个
hystrix.command.default.circuitBreaker.requestVolumeThreshold=30
